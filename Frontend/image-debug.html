<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Debug - ChopSmo</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Poppins', sans-serif; padding: 20px; background: #f5f5f5; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 30px; border-radius: 10px; }
        h1 { color: #4CAF50; text-align: center; }
        .test-section { margin: 20px 0; padding: 20px; border: 1px solid #ddd; border-radius: 8px; }
        .image-test { display: flex; align-items: center; margin: 10px 0; padding: 10px; border: 1px solid #eee; border-radius: 5px; }
        .image-test img { width: 100px; height: 100px; object-fit: cover; margin-right: 15px; border-radius: 5px; }
        .image-info { flex: 1; }
        .status { padding: 5px 10px; border-radius: 3px; color: white; font-size: 12px; margin-left: 10px; }
        .success { background: #4CAF50; }
        .error { background: #f44336; }
        .warning { background: #FF9800; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üñºÔ∏è Image URL Debug Tool</h1>
        
        <div class="test-section">
            <h3>Testing Common Recipe Images</h3>
            <p>This tool tests if your recipe images are accessible from different paths:</p>
            <div id="image-tests"></div>
        </div>

        <div class="test-section">
            <h3>Solutions for Missing Images</h3>
            <ul>
                <li><strong>Django Media Configuration:</strong> Ensure your Django settings include proper MEDIA_URL and MEDIA_ROOT</li>
                <li><strong>Static Files:</strong> Run <code>python manage.py collectstatic</code> if using static files</li>
                <li><strong>Development Server:</strong> Make sure Django is serving media files in development</li>
                <li><strong>Image Location:</strong> Verify images are in the correct directory structure</li>
                <li><strong>File Permissions:</strong> Check that image files have proper read permissions</li>
            </ul>
        </div>

        <div class="test-section">
            <h3>Django Media Configuration Example</h3>
            <pre style="background: #f1f1f1; padding: 15px; border-radius: 5px; overflow: auto;">
# settings.py
import os

MEDIA_URL = '/media/'
MEDIA_ROOT = os.path.join(BASE_DIR, 'media')

# urls.py (for development)
from django.conf import settings
from django.conf.urls.static import static

urlpatterns = [
    # your urls
] + static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)
            </pre>
        </div>
    </div>

    <script>
        const commonImages = [
            'Koki.jpg',
            'Precious.jpg',
            'Achu.jpg',
            'Ndole & Miondo.jpg',
            'Eru.jpg',
            'Chicken Chips.jpg'
        ];

        const testPaths = [
            'images/',               // Local images folder
            'assets/',              // Local assets folder  
            'https://frontendsmo.vercel.app/media/images/',  // Django media URL
            'https://frontendsmo.vercel.app/media/',         // Django media root
            '/media/images/',       // Relative Django media
            '/media/'               // Relative Django media root
        ];

        function testImagePaths() {
            const container = document.getElementById('image-tests');
            
            commonImages.forEach(imageName => {
                testPaths.forEach(basePath => {
                    const fullUrl = basePath + imageName;
                    const testDiv = document.createElement('div');
                    testDiv.className = 'image-test';
                    
                    const img = document.createElement('img');
                    const info = document.createElement('div');
                    info.className = 'image-info';
                    
                    const status = document.createElement('span');
                    status.className = 'status warning';
                    status.textContent = 'Testing...';
                    
                    info.innerHTML = `
                        <strong>${imageName}</strong><br>
                        <code>${fullUrl}</code>
                    `;
                    
                    img.onload = () => {
                        status.className = 'status success';
                        status.textContent = '‚úÖ Found';
                    };
                    
                    img.onerror = () => {
                        status.className = 'status error';
                        status.textContent = '‚ùå Not Found';
                        img.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIiBmaWxsPSIjOTk5Ij5ObyBJbWFnZTwvdGV4dD48L3N2Zz4=';
                    };
                    
                    img.src = fullUrl;
                    
                    testDiv.appendChild(img);
                    testDiv.appendChild(info);
                    testDiv.appendChild(status);
                    container.appendChild(testDiv);
                });
            });
        }

        // Start testing when page loads
        document.addEventListener('DOMContentLoaded', testImagePaths);
    </script>
</body>
</html>
